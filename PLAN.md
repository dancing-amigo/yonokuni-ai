# 学習開始までのロードマップ

Yonokuni AI はルール実装・Gym 環境・MCTS・自己対戦／学習ループの最小構成が整っている。学習本番に移る前に、以下の機能を優先的に実装する。

## 1. ロギングとチェックポイント
- [x] TensorBoard ロガー取り込み（`train/*`, `buffer/size`）とチェックポイント保存/復元を実装。
- [x] W&B など外部サービス連携（任意）や `policy_entropy`, `self_play_winrate` の追加可視化。
- [x] 設定値（MCTS 回数、温度、バッチサイズなど）を YAML/Hydra 相当の設定ファイルで外部化。

## 2. 評価およびゲーティング準備
- [x] ランダム基準の評価スクリプトを整備（`scripts/evaluate_model.py`）。
- [ ] ルールベース Bot や旧モデルとの対戦ジョブを追加しCI化。
- [ ] 勝率・平均手数・中央勝利率・死に駒発生ターンなどのメトリクスをダッシュボード化。
- [x] ゲーティング（新旧モデル対戦で勝率基準を満たした場合のみ昇格）フローを実装し、結果JSON出力。

## 3. コンソール対戦
- [x] 人間 vs 学習済みモデルを CLI で対戦できるスクリプトを作成（合法手一覧表示、手番入力、終了判定、簡易 MCTS 推論）。
- [x] モデルパス・探索回数・温度などを CLI 引数から指定可能にする。
- [ ] ログリプレイ（対戦ログを保存し後から再生）も検討。

## 4. 自己対戦スケーリングとデータ品質
- [x] 自己対戦ワーカーをスレッドベースで並列化し、並列自己対戦をサポート。
- [x] 温度スケジュールと探索回数プリセットを設定で切り替え可能にした。
- [x] 収集データの自動検証（NaN/レンジチェック）を導入し、iteration 毎に検証。

## 5. 推論ユーティリティの強化
- [ ] Mixed precision・バッチ推論・TorchScript/ONNX エクスポートを整備し、評価や推論サービスで利用可能にする。
- [ ] モデルのバージョニング API とメタデータ（訓練日・勝率・設定）管理を実装。

以上を完了後、長時間自己対戦＋学習ジョブを投入し、定期的な評価とゲーティングで性能をモニタリングする。
